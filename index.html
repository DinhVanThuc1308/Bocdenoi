<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luy·ªán Thi N√≥i Ti·∫øng ƒê·ª©c - Random Topic</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background-color: #f4f6f9; margin: 0; padding: 20px; display: flex; flex-direction: column; align-items: center; }
        .container { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); max-width: 800px; width: 100%; }
        h1, h2 { text-align: center; color: #333; }
        .menu-buttons { display: flex; gap: 15px; justify-content: center; margin: 30px 0; }
        button { padding: 12px 25px; font-size: 16px; cursor: pointer; border: none; border-radius: 6px; font-weight: bold; color: white; transition: 0.2s; }
        .btn-teil2 { background-color: #007bff; } .btn-teil2:hover { background-color: #0056b3; }
        .btn-teil3 { background-color: #28a745; } .btn-teil3:hover { background-color: #1e7e34; }
        .btn-copy { background-color: #6c757d; font-size: 14px; padding: 8px 15px; }
        .btn-home { background-color: #333; margin-bottom: 20px; }
        
        /* Link Display Area */
        #link-area { display: none; background: #e9ecef; padding: 20px; border-radius: 8px; margin-top: 20px; }
        .link-group { margin-bottom: 15px; background: white; padding: 10px; border-radius: 5px; border: 1px solid #ddd; }
        .link-group label { display: block; font-weight: bold; margin-bottom: 5px; color: #495057; }
        .link-input { width: 95%; padding: 8px; border: 1px solid #ced4da; border-radius: 4px; color: #555; background: #f8f9fa; }
        
        /* Content Display Area */
        #content-area { display: none; }
        .role-badge { display: inline-block; padding: 5px 12px; border-radius: 20px; color: white; font-size: 0.9em; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 1px; }
        .role-a { background-color: #007bff; }
        .role-b { background-color: #dc3545; }
        .topic-box { padding: 20px; border-radius: 8px; border: 1px solid #ddd; background: #fff; }
        .text-content { font-size: 1.1em; line-height: 1.6; color: #212529; margin-top: 15px; white-space: pre-line; }
        .note { font-size: 0.9em; color: #d63384; font-style: italic; margin-top: 20px; text-align: center; }

        /* Teil 3 Specific */
        .teil3-list { list-style-type: square; padding-left: 20px; }
        .teil3-list li { margin-bottom: 8px; }
    </style>
</head>
<body>

<div class="container">
    <div id="main-menu">
        <h1>üá©üá™ Luy·ªán Thi N√≥i (Sprechen)</h1>
        <p style="text-align: center;">Ch·ªçn ph·∫ßn thi ƒë·ªÉ b·ªëc ƒë·ªÅ:</p>
        <div class="menu-buttons">
            <button class="btn-teil2" onclick="generateTeil2Links()">B·ªëc TEIL 2 (Tranh lu·∫≠n)</button>
            <button class="btn-teil3" onclick="randomTeil3()">B·ªëc TEIL 3 (L√™n k·∫ø ho·∫°ch)</button>
        </div>
        
        <div id="link-area">
            <h3 style="margin-top:0; text-align: center;">üéâ ƒê√£ b·ªëc xong ƒë·ªÅ s·ªë <span id="topic-id-display"></span>!</h3>
            <p style="text-align: center; font-size: 0.9em;">H√£y g·ª≠i link t∆∞∆°ng ·ª©ng cho partner c·ªßa b·∫°n.</p>
            
            <div class="link-group">
                <label>üîó Link cho Person A (·ª¶ng h·ªô/Ph·∫£n ƒë·ªëi 1):</label>
                <div style="display: flex; gap: 5px;">
                    <input type="text" class="link-input" id="link-a" readonly>
                    <button class="btn-copy" onclick="copyLink('link-a')">Copy</button>
                    <button class="btn-teil2" onclick="openLink('link-a')">M·ªü</button>
                </div>
            </div>

            <div class="link-group">
                <label>üîó Link cho Person B (·ª¶ng h·ªô/Ph·∫£n ƒë·ªëi 2):</label>
                <div style="display: flex; gap: 5px;">
                    <input type="text" class="link-input" id="link-b" readonly>
                    <button class="btn-copy" onclick="copyLink('link-b')">Copy</button>
                    <button class="btn-teil2" style="background-color: #dc3545;" onclick="openLink('link-b')">M·ªü</button>
                </div>
            </div>
        </div>
    </div>

    <div id="content-area">
        <button class="btn-home" onclick="goHome()">üè† Quay l·∫°i trang ch·ªß</button>
        <div id="dynamic-content"></div>
    </div>
</div>

<script>
    // --- D·ªÆ LI·ªÜU ---
    // (Gi·ªØ nguy√™n data, ch·ªâ th√™m ID ƒë·ªÉ ƒë·ªãnh danh)
    const dataTeil2 = [
        { id: 1, title: "Brief oder E-mail", a: "Harald Haubner, 29 Jahre, Kaufmann\nIch finde es schade, dass viele Menschen nicht mit der Hand schreiben wollen. Also ich freue mich immer √ºber einen handgeschrieben Brief oder eine Karte, zum Beispiel zum Geburtstag. Das ist viel pers√∂nlicher als eine E-mail oder eine Nachricht am Telefon.", b: "Tina Klein, 35 Jahre, Pflegerin\nBriefe schreibe ich nie. Wozu auch? Es dauert viel zu lange, bis ein Brief endlich ankommt. Eine E-Mail oder eine Nachricht per Telefon ist sofort beim Empf√§nger. Da kann ich auch Emojis benutzen. Briefe finde ich altmodisch." },
        { id: 2, title: "Smartphone in der Schule", a: "Ann-Marie H√ºbner, 39 Jahre, Lehrerin\nIch bin Lehrerin und nutze das Smartphone oft. Es ist wirklich hilfreich, wenn man sofort eine Information im Internet findet. Meine Sch√ºler d√ºrfen es auch im Unterricht benutzen, dann finden sie zum Beispiel Filme, Bilder, und Musik des Themas, das wir gerade behandeln. Das macht ihnen Spa√ü.", b: "Christin Bergner, 41 Jahre, Mechatroniker\nMeine Kinder sind den ganzen Tag am Smartphone und das nervt mich. Sie m√ºssen doch nicht auch noch in der Schule damit spielen. Au√üerdem finde ich, dass man mit einem Smartphone sowieso nicht lernen kann. Sobald eine Nachricht kommt, konzentrieren sie sich nicht mehr auf den Unterricht." },
        { id: 3, title: "Handynutzung in √∂ffentlichen Verkehrsmitteln", a: "Anna Beckmann, 20 Jahre, Studentin\nBeim t√§glichen Pendeln mit Bus und Bahn ist mein Smartphone ein unverzichtbarer Begleiter. Ich nutze es, um Nachrichten zu schreiben, Musik zu h√∂ren und mit Lern-Apps die Fahrzeit sinnvoll zu nutzen. So wird jede Fahrt nicht nur angenehmer, sondern auch produktiver.", b: "Oliver Schneider, 75 Jahre, Rentner\nFr√ºher sch√§tzte ich die Fahrten mit Bus und Bahn sehr - die ruhige Atmosph√§re und die Gespr√§che mit anderen Fahrg√§sten waren etwas Besonderes. Heute ist das anders: √úberall h√∂re ich laute Musik oder Telefonate, und die meisten Menschen starren nur auf ihre Handys." },
        { id: 4, title: "Im Internet bestellen", a: "Heike Bittner (36), Hausfrau\nAm liebsten bestelle ich meine Kleider im Internet. Die Auswahl ist viel gr√∂√üer als im Laden. √úberf√ºllte Gesch√§fte mag ich nicht. Ich suche lieber zu Hause aus und probiere dann in aller Ruhe. Was mir nicht gef√§llt, kann ich problemlos zur√ºckschicken.", b: "Carlo Marchese (33), Malermeister\nIch kaufe nicht oft Kleidung. Aber wenn ich etwas brauche, nehme ich mir Zeit und gehe in die Stadt. Im Internet bestellen mag ich nicht. Die Farben sind oft ganz anders als auf den Fotos. Der Stoff sieht auf den Bildern auch meistens besser aus." },
        { id: 5, title: "Gemeinschaftsgarten", a: "Lisa Feldmann (43), Kamerafrau\nWir nutzen seit einem Jahr ein St√ºck in einem Gemeinschaftsgarten. Wir bauen Gem√ºse und Kr√§uter an. So wissen wir, wo unser Essen herkommt. Wir k√∂nnen ganz sicher sein, dass es wirklich Bio ist. Au√üerdem macht uns die Arbeit im Freien viel Freude.", b: "Harald Dauber (29), Kaufmann\nMeine Eltern sind Mieter in einem Gemeinschaftsgarten. Da gibt es oft Stress: zum Beispiel, wenn es lange nicht regnet, und die teuren Pflanzen vertrocknen. Wenn sie in Urlaub fahren wollen, muss jemand den Garten f√ºr sie gie√üen. Ich kaufe mein Gem√ºse lieber im Laden." },
        { id: 6, title: "Tiktok", a: "Mandy Heuser, 43 Jahre, Designerin\nUnsere Tochter postet regelm√§√üig Videos auf TikTok. Anfangs habe ich mir Sorgen gemacht. Aber nun sehe ich, wie gut es ihr tut. Sie hat wirklich Talent als Schauspielerin und S√§ngerin, und das kann sie so mit anderen teilen.", b: "Kevin, 34 Jahre, Autoh√§ndler\nManche Menschen verbringen Stunden mit TikTok-Videos. Das ist doch reine Zeitverschwendung. Warum sollten einem die Darstellungen und Meinungen fremder Leute wichtig sein? Ich w√ºrde mir lieber ein sch√∂nes Hobby suchen." },
        { id: 7, title: "Gro√üe Feier veranstalten", a: "Christin Bergner, 41 Jahre, Mechatroniker\nUnsere Gro√ümutter feiert bald ihren 80. Geburtstag. Wir feiern bei uns im Garten, das passt gut f√ºr unsere gro√üe Familie. Die Kinder haben Platz zum Spielen. Seit Wochen √ºberlegen wir, wer was kochen soll.", b: "Sybille Sauer, 43 Jahre, Designerin\nGestern haben wir den 50. Hochzeitstag unserer Eltern gefeiert. Wir waren in einem Restaurant. So mussten wir uns nicht um die Vorbereitung k√ºmmern. Nur das Men√º hatten wir schon vorbestellt." },
        { id: 8, title: "√ñffentlichen Verkehrsmittel", a: "Carola Ahrenholz, 25 Jahre, Sekret√§rin\nIm Sommer fahre ich immer mit dem Fahrrad zur Arbeit. Dann komme ich morgens schon munter ins B√ºro und abends kann ich mich beim Fahren wunderbar entspannen. Nur wenn es regnet, nehme ich den Bus.", b: "Bernd Kleinefeld, 45 Jahre, Elektrotechniker\nMein Auto brauche ich am meisten f√ºr meine Freizeitaktivit√§ten: Am Wochenende machen wir Ausfl√ºge... Und weil wir auf dem Land wohnen, muss ich ziemlich oft auch die Kinder irgendwohin bringen." },
        { id: 9, title: "Gemeinsame Mahlzeiten", a: "Stefan Wilkens, (41), Ingenieur\nGemeinsame Mahlzeiten sind sehr wichtig in unserer Familie. Wir helfen alle beim Kochen. Mindestens einmal am Tag, meistens abends, sitzen wir alle um den gro√üen Tisch.", b: "Heike Bittner, (36), Hausfrau\nMein Mann und ich arbeiten und unser Sohn studiert. So hat jeder seinen eigenen Rhythmus, und wir sitzen fast nie zusammen an einem Tisch. Ich finde das in Ordnung." },
        { id: 10, title: "Serie oder Film", a: "Steffi, 29 Jahre alt, Redakteurin\nAlso, ich bin richtig s√ºchtig nach Serien! Am Wochenende streame ich manchmal stundenlang, eine Folge nach der anderen. Zwischendurch schreibe ich mit meinen Freundinnen.", b: "Heike Bittner, 36 Jahre alt, Hausfrau\nSerien streamen interessiert mich √ºberhaupt nicht. Mehrere Folgen anschauen, das wird mir zu viel. Ein Film mit einer abgeschlossenen Geschichte, das ist mir lieber." },
        { id: 11, title: "Bauernmarkt", a: "Eva Winter, 37 Jahre, Lehrerin\nIch kaufe meistens am Samstag auf dem Bauernmarkt ein. Dort bekomme ich frisches Gem√ºse aus der Umgebung. Es gibt auch Brot und sogar Biofleisch.", b: "Tobias Meier, 40 Jahre, Informatiker\nIch gehe selten auf den Bauernmarkt. Ich habe nicht viel Zeit, also kaufe ich meine Lebensmittel lieber im Supermarkt. Dort finde ich alles an einem Ort, und es ist oft billiger." },
        { id: 12, title: "Umzug", a: "Hassan al-Amiri, Maler\nIch bin sehr oft umgezogen. In der Regel alle vier bis f√ºnf Jahre. Immer in einer neuen Umgebung mit neuen Nachbarn. Das hat mir immer gutgetan.", b: "Sabine Igel, Floristin\nWir haben uns vor Kurzem ein Haus gekauft. Wir wollten nicht mehr Mieter sein und wir hatten auch keine Lust mehr auf Umz√ºge. Also, vermutlich werden wir nie wieder umziehen." },
        { id: 13, title: "Auto, oder Bus oder Bahn", a: "Birgit Krah, K√∂chin\nIch bin so froh, dass ich ein Auto habe. Das erleichtert mir den Alltag. So bin ich sehr flexibel, kann meine Musik einschalten und von A nach B fahren.", b: "Amir Zaid, Sport- und Fitnesskaufmann\nIch brauche kein Auto. Da ich in der Stadt lebe, komme ich mit der U-Bahn schnell voran. Ich muss auch keinen Parkplatz suchen." },
        { id: 14, title: "Smartphone f√ºr Kinder", a: "Hanna Streblow (46), Trainerin\nFachleute sagen aber, dass Kinder unter vier Jahren gar kein Handy haben sollen, und zwischen vier und sechs Jahren h√∂chstens 20 bis 30 Minuten pro Tag. Das finde ich auch gut so.", b: "Luigi Bellini, (39), Musiker\nDas Smartphone geh√∂rt zu unserem Leben. Deshalb sollten Kleinkinder auch so fr√ºh wie m√∂glich lernen, damit umzugehen. Die Welt ver√§ndert sich eben." },
        { id: 15, title: "Sport im Fitnessstudio", a: "Hassan al-Amiri, Maler\nIch gehe regelm√§√üig ins Gym. Die haben so tolle Ger√§te und vor allem sehr gute Beratung. Und das Gute an der Sache ist, dass Wind und Wetter keine Rolle spielen.", b: "Kurt Baumgart, IT-System Elektroniker\nDas ist nichts f√ºr mich. Die Fahrt ins n√§chste Fitnessstudio w√ºrde mich ca. 20 Minuten kosten. Ich habe mir bei uns im Haus ein Sportzimmer eingerichtet." },
        { id: 16, title: "Klassentreffen", a: "Steffi, 29 Jahre alt, Redakteurin\nWir veranstalten jedes Jahr ein Klassentreffen. Immer am selben Ort und zur selben Zeit. Ich freue mich jedes Jahr auf das Wiedersehen.", b: "Heike Bittner, 36 Jahre alt, Hausfrau\nAn meine Schulzeit denke ich nicht gern zur√ºck. An die Mitsch√ºler eigentlich auch nicht. Mich interessiert auch nicht, was aus den Leuten geworden ist." },
        { id: 17, title: "F√ºhrerschein", a: "Yvonne Hector\nIch bin so froh, dass ich einen F√ºhrerschein habe. Das erleichtert mir meinen Alltag. Wenn ich privat etwas unternehmen m√∂chte, bin ich sehr flexibel.", b: "Sebastian Hubrich\nIch brauche keinen F√ºhrerschein. Da ich sowieso in der Stadt lebe, komme ich mit Stra√üenbahnen und Bussen sehr schnell voran." },
        { id: 18, title: "Rapmusik", a: "Oliver Schied\nDieser schnelle Sprechgesang ist nichts f√ºr mich. Die Texte sind viel zu aggressiv und voller Beleidigungen. Da h√∂re ich lieber ruhigere Poplieder.", b: "Sina May\nIch liebe Rap. Die Musiker haben immer so interessante und auch wichtige Themen. Es wird nie langweilig." },
        { id: 19, title: "Kleidung", a: "Person A\nIch kaufe nicht so viele Klamotten, aber wenn ich etwas kaufe, achte ich immer auf die Qualit√§t. Schlie√ülich m√∂chte ich lange tragen und nicht nach kurzer Zeit weg.", b: "Person B\nIch habe nicht viel Zeit zum Shoppen. Hemden oder Hosen kaufe ich meistens, wenn ich in der Stadt bin... Oder nach dem ersten Waschen merke ich, dass sie zu billig sind." },
        { id: 20, title: "Handy (Nervig vs Begleiter)", a: "Person A\nDas Thema ist nicht neu, aber sehr sehr nervig. √úberall sieht man Menschen, die sich mit ihren Handys besch√§ftigen. Das kann doch nicht sein, dass ein kleines Ger√§t unser ganzes Leben bestimmt.", b: "Person B\nMein Handy ist mein st√§ndiger Begleiter. Inzwischen kann ich ohne Geld und Schl√ºssel das Haus verlassen, aber nicht ohne mein Handy." },
        { id: 21, title: "Abenteuer", a: "Markus Traut\nIch hatte schon einige echte Grenzerfahrungen. Zum Beispiel haben wir in Nambia wilde Tiere aus n√§chster N√§he beobachtet. Das war unvergesslich.", b: "Sibel Ortak√∂y\nDas Besondere finde ich meistens im Sommerurlaub an sch√∂nen Orten. Dort verweile ich dann f√ºr viele Stunden und genie√üe die Aussicht." },
        { id: 22, title: "Geschenke", a: "Anna Umlauf\nIch schenke ohnehin nur bestimmten Personen aus meinem engsten Freundeskreis etwas. Meistens wei√ü ich von meinen Freundinnen, was sie besonders interessiert.", b: "Jos√© Gonzalez\nZum Geburtstag oder Valentinstag schenken wir uns nichts mehr. Daf√ºr √ºberraschen wir einander mit spontanen Ideen oder Kleinigkeiten." },
        { id: 23, title: "Stadt oder Land", a: "Edgar Michels\nIch lebe seit √ºber 30 Jahren auf dem Lande und ich bin sehr gl√ºcklich dar√ºber. Wenn ich aus dem Fenster schaue, sehe ich nur Gr√ºnfl√§chen und B√§ume.", b: "Carmen Diaz\nIch liebe gro√üe St√§dte mit vielen Caf√©s, Restaurants, Bars und Einkaufsh√§usern. Und √ºberall sind Menschen und √ºberall ist etwas los." },
        { id: 24, title: "Kino vs Streaming", a: "Tina Zrenner\nIch habe einen recht gro√üen Fernseher und kann auf Amazon oder Netflix fast jeden Film schauen. Und das Beste daran ist: Ich kann mir den Film anschauen, wenn ich Lust darauf habe.", b: "Uli Dirker\nWir gehen sehr oft ins Kino, denn im Kino kann man einen Film richtig genie√üen. Eine riesige Leinwand und tolle Soundqualit√§t. Das hat man nur im Kino." },
        { id: 25, title: "Wohngemeinschaft", a: "Petra Althaus\nIch lebe seit vielen Jahren zusammen mit zwei guten Bekannten in einer Wohngemeinschaft. Nur so kann ich es mir leisten, in einer gro√üen Stadt zu wohnen.", b: "Person B\nIch k√∂nnte nicht mit anderen Menschen zusammen wohnen, auch nicht mit guten Bekannten oder Freunden. Vermutlich w√ºrden wir uns nur streiten." },
        { id: 26, title: "Wochenenden unternehmen", a: "Person A\nIch freue mich immer auf das Wochenende. Gemeinsam mit meinen Freund:innen planen wir, was wir machen wollen. Oft gehen wir ins Restaurant, ins Kino oder ins Konzert.", b: "(Ch∆∞a c√≥ th√¥ng tin Person B)\nH√£y ph·∫£n ƒë·ªëi ho·∫∑c ƒë∆∞a ra √Ω ki·∫øn kh√°c v·ªõi A." },
        { id: 27, title: "Immer Online", a: "Ute Neuhaus, (35), Grafikerin\nIch sitze den ganzen Tag am Computer und muss immer sehr schnell auf Fragen von Kunden reagieren... Ich m√∂chte aber nicht auch noch abends und an Wochenenden privat im Internet surfen.", b: "Ali Kaya, (44), Bankkaufmann\nTags√ºber arbeite ich schon sehr viel am Computer. Abends sitze ich dann mit meinem Notebook und kann mich voll und ganz auf mein Hobby konzentrieren... ich bin immer online, aber das ist okay." }
    ];

    const dataTeil3 = [
        { title: "01. Schwimmausflug", desc: "Sie organisieren einen gemeinsamen Schwimmausflug.", notes: ["Wann?", "Wetter", "Auto oder Zug", "Snacks und Getr√§nke"] },
        { title: "02. Hilfe bei der Hausarbeit", desc: "Der Mann Ihrer gemeinsamen Freundin ist im Krankenhaus. Sie wollen ihr bei der Hausarbeit helfen.", notes: ["Wann?", "Wer?", "Einkaufen", "Kochen"] },
        { title: "03. Gemeinsam Fernsehabend", desc: "Sie m√∂chten wieder einmal einen Fernsehabend f√ºr gemeinsame Freunde organisieren.", notes: ["Bei wem?", "Wann?", "Film oder Talent-Show?", "Essen und Getr√§nke"] },
        { title: "04. Treffen mit den ehemaligen Mitsch√ºlerinnen", desc: "Sie m√∂chten ein Treffen mit den ehemaligen Mitsch√ºlerinnen veranstalten.", notes: ["Wann?", "Wo?", "Musik?", "Kosten?"] },
        { title: "05. Pflanzen auf dem Balkon", desc: "Ihre Nachbarin m√∂chte nach dem Winter neue Pflanzen auf dem Balkon anpflanzen. Sie sollen ihr helfen.", notes: ["Wann?", "Wer?", "Blumen kaufen?", "Transport?"] },
        { title: "06. Geburtstagsfeier eines Kollegen", desc: "Ein Kollege wird 50. Sie sollen ein Geschenk aussuchen und eine kleine Feier organisieren.", notes: ["Geschenk", "Geld", "Essen", "Getr√§nke", "Programm"] },
        { title: "07. Nachbarin gro√ües Familientreffen helfen", desc: "Sie wollen einer Nachbarin helfen, die ein gro√ües Familientreffen plant.", notes: ["Wann?", "Wie viele Personen?", "Tische und st√ºhle?", "√úbernachtung?"] },
        { title: "08. Willkommensfeier", desc: "Ein Freund kommt aus dem Ausland. Planen Sie eine Feier.", notes: ["Wie?", "Wo?", "Alte Freunde einladen?", "Programm?"] },
        { title: "09. Abschiedsparty", desc: "Sie haben im Urlaub Deutsche kennengelernt und wollen eine Abschiedsparty feiern.", notes: ["Wann?", "Wo?", "Essen Getr√§nke", "Wer bezahlt wof√ºr?"] },
        { title: "10. Geburtstagsparty ausw√§rts", desc: "Geburtstagsfeier in einer anderen Stadt. Planen Sie die Fahrt.", notes: ["Wie viele Personen?", "Wie weit?", "Mit dem Auto oder Zug?", "Geschenk?"] },
        { title: "11. Heimatstadt erz√§hlen", desc: "Pr√§sentation √ºber die gemeinsame Heimatstadt im Sprachkurs.", notes: ["Wie lange?", "Gr√∂√üe und Bedeutung?", "Alte Fotos?", "Youtube Video?"] },
        { title: "12. Schriftliche Arbeit (PC kaputt)", desc: "Computer ist kaputt, aber Arbeit muss abgegeben werden. Planen Sie eine L√∂sung.", notes: ["Ohne Computer?", "Reparieren?", "Leihen?", "Bei Freunden?", "Sp√§ter abgeben?"] },
        { title: "13. Kinderbetreuung Hochzeit", desc: "Helfen Sie bei der Betreuung kleiner Kinder auf einer Hochzeit.", notes: ["Wie viele?", "Alter?", "Wo?", "Spielen?"] },
        { title: "14. Schiffsreise", desc: "Planen Sie eine gemeinsame Schiffsreise.", notes: ["Wohin?", "Wann?", "Kosten?"] },
        { title: "15. Kinder Lesenacht", desc: "Ihre Kinder wollen eine Lesenacht organisieren.", notes: ["Wann?", "Wo?", "√úbernachten?"] },
        { title: "16. Menschen helfen", desc: "Planen Sie Hilfe f√ºr Menschen, die Pech im Leben hatten.", notes: ["Wie?", "Welche Organisation?", "Mit Freunden?"] },
        { title: "17. Fahrradtour", desc: "Mehrt√§gige Fahrradtour mit Freunden.", notes: ["Wie?", "Wann?", "Personen?", "√úbernachtung?"] },
        { title: "18. Kochkurs (Deutsche K√ºche)", desc: "Sie wollen mehr √ºber deutsche K√ºche lernen.", notes: ["Kochkurs?", "Wo?", "Youtube?"] },
        { title: "19. Haus im Wald", desc: "Wochenende in einem Haus im Wald verbringen.", notes: ["Wo?", "Wann?", "Kosten?"] },
        { title: "20. Kinder aufpassen", desc: "Auf die Kinder des Bruders aufpassen.", notes: ["Spielen", "Essen", "Mittagsschlaf"] },
        { title: "21. Firmenjubil√§um", desc: "80-j√§hriges Jubil√§um der Firma planen.", notes: ["Musik", "Disko", "Kost√ºm"] },
        { title: "22. Deutschpr√ºfung vorbereiten", desc: "Gemeinsam auf die Pr√ºfung lernen.", notes: ["Wann?", "Wo?", "Material?", "Mit anderen?"] },
        { title: "23. Ausflug mit neuen Kollegen", desc: "Ausflug mit 2 neuen Kollegen organisieren.", notes: ["Wann?", "Wo?", "Verkehrsmittel?"] },
        { title: "24. Ins Konzert gehen", desc: "Konzertbesuch planen.", notes: ["Band?", "Wo?", "Mit Freunden?"] },
        { title: "25. Spieleabend", desc: "Einen Spieleabend organisieren.", notes: ["Wann?", "Wo?", "Welche Spiele?"] },
        { title: "26. Auto Tour", desc: "Eine Autotour machen.", notes: ["Wann?", "Wo?", "√úbernachten?"] },
        { title: "27. Abenteuer", desc: "Ein Abenteuer planen.", notes: ["Wann?", "Wo?", "Ausr√ºstung?"] }
    ];

    // --- LOGIC ---

    // Ki·ªÉm tra URL xem c√≥ ƒëang ·ªü ch·∫ø ƒë·ªô xem ƒë·ªÅ kh√¥ng
    window.onload = function() {
        const urlParams = new URLSearchParams(window.location.search);
        const type = urlParams.get('type');
        const id = urlParams.get('id');
        const role = urlParams.get('role'); // A ho·∫∑c B

        if (type === '2' && id && role) {
            showTeil2Content(id, role);
        } else if (type === '3' && id) {
            showTeil3Content(id);
        }
    };

    function generateTeil2Links() {
        // Ch·ªçn ng·∫´u nhi√™n 1 topic
        const randomIndex = Math.floor(Math.random() * dataTeil2.length);
        const topic = dataTeil2[randomIndex];
        const id = topic.id;

        // L·∫•y URL hi·ªán t·∫°i (b·ªè ph·∫ßn query c≈©)
        const baseUrl = window.location.href.split('?')[0];

        const linkA = `${baseUrl}?type=2&id=${id}&role=A`;
        const linkB = `${baseUrl}?type=2&id=${id}&role=B`;

        document.getElementById('topic-id-display').innerText = id;
        document.getElementById('link-a').value = linkA;
        document.getElementById('link-b').value = linkB;
        
        document.getElementById('link-area').style.display = 'block';
    }

    function randomTeil3() {
        const randomIndex = Math.floor(Math.random() * dataTeil3.length);
        const baseUrl = window.location.href.split('?')[0];
        // Teil 3 th√¨ d√πng chung 1 link v√¨ c·∫£ 2 c√πng nh√¨n ƒë·ªÅ
        window.location.href = `${baseUrl}?type=3&id=${randomIndex}`;
    }

    function showTeil2Content(id, role) {
        document.getElementById('main-menu').style.display = 'none';
        document.getElementById('content-area').style.display = 'block';
        
        const topic = dataTeil2.find(t => t.id == id);
        if (!topic) {
            document.getElementById('dynamic-content').innerHTML = "<p>Kh√¥ng t√¨m th·∫•y ƒë·ªÅ!</p>";
            return;
        }

        let roleName = role === 'A' ? "PERSON A" : "PERSON B";
        let roleClass = role === 'A' ? "role-a" : "role-b";
        let contentText = role === 'A' ? topic.a : topic.b;
        let warning = role === 'A' ? "B·∫°n KH√îNG ƒê∆Ø·ª¢C nh√¨n ph·∫ßn c·ªßa Person B." : "B·∫°n KH√îNG ƒê∆Ø·ª¢C nh√¨n ph·∫ßn c·ªßa Person A.";

        const html = `
            <div class="topic-box">
                <h2 style="color: #333; margin-top:0;">Thema: ${topic.title}</h2>
                <hr>
                <span class="role-badge ${roleClass}">B·∫†N L√Ä ${roleName}</span>
                <p class="text-content">${contentText}</p>
                <div class="note">‚ö†Ô∏è ${warning}</div>
            </div>
        `;
        document.getElementById('dynamic-content').innerHTML = html;
    }

    function showTeil3Content(index) {
        document.getElementById('main-menu').style.display = 'none';
        document.getElementById('content-area').style.display = 'block';

        const topic = dataTeil3[index];
        if (!topic) return;

        const notesHtml = topic.notes.map(n => `<li>${n}</li>`).join('');

        const html = `
            <div class="topic-box" style="border-left: 5px solid #28a745;">
                <h2 style="color: #28a745; margin-top:0;">TEIL 3: PLANUNG</h2>
                <h3>${topic.title}</h3>
                <p>${topic.desc}</p>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 5px;">
                    <strong>Punkte zur Diskussion:</strong>
                    <ul class="teil3-list">${notesHtml}</ul>
                </div>
            </div>
        `;
        document.getElementById('dynamic-content').innerHTML = html;
    }

    function copyLink(elementId) {
        const copyText = document.getElementById(elementId);
        copyText.select();
        copyText.setSelectionRange(0, 99999); 
        navigator.clipboard.writeText(copyText.value);
        alert("ƒê√£ copy link!");
    }

    function openLink(elementId) {
        const url = document.getElementById(elementId).value;
        window.open(url, '_blank');
    }

    function goHome() {
        const baseUrl = window.location.href.split('?')[0];
        window.location.href = baseUrl;
    }
</script>

</body>
</html>